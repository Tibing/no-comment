<ng-container *ngIf="comment$ | async as comment">

  <div class="container" [class.flash]="flash$ | async">

    <div class="header">

      <div class="left">

        <img class="head" [src]="sanitizer.bypassSecurityTrustUrl(comment.head)">

        <div>
          <p class="user-name">{{ comment.userName }}</p>
          <p class="created-at">{{ comment.createdAt | date }}</p>
        </div>

      </div>

      <div class="right">

        <button
          *ngIf="canDelete$ | async"
          (click)="delete()"
          class="remove">
          <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik00NjkuMzMzLDg1LjMzM2gtNDIuNjY3aC02NHYtNjRDMzYyLjY2Nyw5LjU1NywzNTMuMTMxLDAsMzQxLjMzMywwSDE3MC42NjdjLTExLjc5NywwLTIxLjMzMyw5LjU1Ny0yMS4zMzMsMjEuMzMzdjY0aC02NA0KCQkJSDQyLjY2N2MtMTEuNzk3LDAtMjEuMzMzLDkuNTU3LTIxLjMzMywyMS4zMzNTMzAuODY5LDEyOCw0Mi42NjcsMTI4SDY0djMyMGMwLDM1LjI4NSwyOC43MTUsNjQsNjQsNjRoMjU2DQoJCQljMzUuMjg1LDAsNjQtMjguNzE1LDY0LTY0VjEyOGgyMS4zMzNjMTEuNzk3LDAsMjEuMzMzLTkuNTU3LDIxLjMzMy0yMS4zMzNTNDgxLjEzMSw4NS4zMzMsNDY5LjMzMyw4NS4zMzN6IE0xOTIsNDIuNjY3aDEyOA0KCQkJdjQyLjY2N0gxOTJWNDIuNjY3eiBNNDA1LjMzMyw0NDhjMCwxMS43NTUtOS41NTcsMjEuMzMzLTIxLjMzMywyMS4zMzNIMTI4Yy0xMS43NzYsMC0yMS4zMzMtOS41NzktMjEuMzMzLTIxLjMzM1YxMjhoNjRoMTcwLjY2Nw0KCQkJaDY0VjQ0OHoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTE5MiwxNzAuNjY3Yy0xMS43OTcsMC0yMS4zMzMsOS41NTctMjEuMzMzLDIxLjMzM3YxOTJjMCwxMS43NzYsOS41MzYsMjEuMzMzLDIxLjMzMywyMS4zMzNzMjEuMzMzLTkuNTU3LDIxLjMzMy0yMS4zMzMNCgkJCVYxOTJDMjEzLjMzMywxODAuMjI0LDIwMy43OTcsMTcwLjY2NywxOTIsMTcwLjY2N3oiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTMyMCwxNzAuNjY3Yy0xMS43OTcsMC0yMS4zMzMsOS41NTctMjEuMzMzLDIxLjMzM3YxOTJjMCwxMS43NzYsOS41MzYsMjEuMzMzLDIxLjMzMywyMS4zMzNzMjEuMzMzLTkuNTU3LDIxLjMzMy0yMS4zMzMNCgkJCVYxOTJDMzQxLjMzMywxODAuMjI0LDMzMS43OTcsMTcwLjY2NywzMjAsMTcwLjY2N3oiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==">
        </button>

        <nc-votes [comment]="comment"></nc-votes>

      </div>

    </div>

    <div class="body">

      <p>
        {{ comment.content }}
      </p>

    </div>
    <nc-comment-form [viewComment]="viewComment$ | async"></nc-comment-form>
  </div>

  <nc-comments
    [level]="level + 1"
    [comments]="(viewComment$ | async).children"
  ></nc-comments>
</ng-container>
